# 📝 学習記録 - 医療費データAPIプロジェクト

面談で「どんなことをやりましたか？」と聞かれた時に振り返る用。

---

## Step 1: FastAPIでREST API設計

### 学んだ概念
- **REST API**: HTTPメソッドでCRUD操作を表現するAPI設計スタイル
- **HTTPメソッド**: GET（取得）、POST（作成）、PUT（更新）、DELETE（削除）
- **ステータスコード**: 200（成功）、201（作成）、400（不正）、404（未発見）、500（サーバーエラー）
- **パスパラメータ vs クエリパラメータ**: `/patients/P001` vs `/patients?limit=10`
- **Pydantic**: リクエスト/レスポンスのバリデーション自動化
- **FastAPI**: Python製の高速APIフレームワーク。自動ドキュメント（/docs）付き

### 実践したこと
1. **Hello World API を作成** (`main.py`)
   - `FastAPI()` でアプリ作成
   - `@app.get("/")` でGETエンドポイント定義
   - JSONレスポンスを返す
   - `uvicorn` でサーバー起動、ブラウザで動作確認
   - Swagger UI (`/docs`) で自動ドキュメントを確認

2. **パスパラメータで特定患者を取得** (`/patients/{patient_id}`)
   - `@app.get("/patients/{patient_id}")` でURLの一部を変数化
   - `patient_id: str` で引数として受け取る
   - ループで該当IDを検索、見つからなければ404エラー
   - **デコレータ(`@app.get`)を付け忘れてエンドポイントが認識されない問題を自力で解決**

3. **クエリパラメータで検索・フィルタ機能** (`/patients?diagnosis=Diabetes&min_cost=10000`)
   - `diagnosis: str = None` → 省略可能なパラメータ（デフォルト値あり）
   - `continue` でフィルタ条件に合わない患者をスキップするロジック
   - パスパラメータ（1件特定）とクエリパラメータ（検索条件）の違いを理解

4. **POSTエンドポイントで新規データ登録** (`POST /patients`)
   - `@app.post` でPOSTメソッドのエンドポイントを作成
   - リクエストボディ（JSON）でデータを受け取る
   - Swagger UI (`/docs`) でPOSTリクエストをテスト
   - **パスの先頭に `/` を付け忘れるミスを発見・修正**

### 面談回答テンプレート
> **Q: REST APIの設計経験はありますか？**
> A: 「FastAPIで医療費データのREST APIを設計しました。
> GETで患者データ取得（パスパラメータで個別取得、クエリパラメータで検索・フィルタ）、
> POSTで新規データ登録のエンドポイントを実装しました。
> Swagger UIで自動ドキュメントも活用していました。」

---

<!-- 以降、各Stepの記録を追加していく -->
